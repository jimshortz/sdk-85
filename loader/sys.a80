	PUBLIC	INIT, EXIT, GETC, PUTC

SDK85	EQU	1
	
	IF	SDK85
SDR	EQU	80H
SSR	EQU	81H
TXRDY	EQU	01H
RXRDY	EQU	02H
	ELSE
TXRDY	EQU	02H
RXRDY	EQU	01H
SDR	EQU	11H
SSR	EQU	10H
	ENDIF
	
	CSEG

INIT:	IF	SDK85
	MVI	A,04EH
	OUT	SSR
	MVI	A,037H
	OUT	SSR
	ENDIF
	RET
	
EXIT:	IF SDK85
	RST	1
	ELSE
	HLT
	ENDIF

GETC:	IN	SSR
	ANI	RXRDY
	JZ	GETC
	IN	SDR
	RET

PUTC:	IN	SSR
	ANI	TXRDY
	JZ	PUTC
	MOV	A,C
	OUT	SDR
	RET
	
	END
